# Auto Folder Link

当你创建一个新的链接笔记时，该笔记会自动移动到以源笔记命名的文件夹中。

现象：在A笔记中新建[[b]]，点击b笔记后，会自动创建一个名为A的文件夹，将b.md移动到A文件夹中。

## 功能特性

- **自动组织链接笔记**：当你通过 `[[链接]]` 创建新笔记时，该笔记会自动移动到以引用它的源笔记命名的文件夹中
- **手动移动功能**：可以通过命令面板手动将当前打开的笔记移动到引用它的源笔记文件夹
- **可配置选项**：可以在设置中开启或关闭自动移动功能
- **智能查找引用**：插件会自动扫描整个 Vault，查找引用新创建笔记的源笔记

## 安装方法

### 手动安装

1. 下载插件的最新发布版本
2. 将下载的文件解压到你的 Obsidian Vault 的 `.obsidian/plugins/` 目录下
3. 重启 Obsidian
4. 在设置 → 社区插件中启用 "Auto Folder Link" 插件

## 使用说明

### 自动移动功能

1. 确保在设置中启用了 "自动移动新建链接笔记" 选项
2. 在任意笔记（比如 `a.md`）中创建一个新的链接 `[[b]]`
3. 点击该链接创建新笔记 `b.md`
4. 插件会自动创建一个名为 `a` 的文件夹，并将 `b.md` 移动到该文件夹中

### 使用示例

**场景**：你正在编写一篇关于 "项目规划" 的笔记，想要创建一个新的子笔记来详细记录 "任务分配"。

1. 在 `项目规划.md` 中输入 `[[任务分配]]`
2. 点击 `[[任务分配]]` 创建新笔记
3. 插件会自动创建 `项目规划` 文件夹
4. 新创建的 `任务分配.md` 会被自动移动到 `项目规划/任务分配.md`

**结果**：
```
- 项目规划.md
- 项目规划/
  - 任务分配.md
```

### 手动移动功能

1. 打开需要移动的笔记
2. 按下 `Ctrl+P`（或 `Cmd+P` on macOS）打开命令面板
3. 搜索并选择 "手动移动当前文件到引用源文件夹"
4. 插件会自动查找引用该笔记的源笔记，并将当前笔记移动到相应的文件夹中

## 设置选项

- **自动移动新建链接笔记**：开启后，点击 `[[b]]` 创建笔记 `b` 时，会自动将其移动到引用它的源笔记文件夹下

## 工作原理

1. 当创建新的 Markdown 文件时，插件会监听 `create` 事件
2. 插件会扫描整个 Vault 中的所有 Markdown 文件，查找包含该新笔记链接的源笔记
3. 找到源笔记后，插件会创建一个以源笔记命名的文件夹（如果不存在）
4. 最后，插件会将新创建的笔记移动到这个文件夹中

## FAQ

### Q: 插件如何处理多个源笔记引用同一个新笔记的情况？
A: 当有多个笔记引用同一个新创建的笔记时，插件会选择找到的第一个引用源笔记，并将新笔记移动到该源笔记命名的文件夹中。

### Q: 如果我已经有一个与源笔记同名的文件夹，插件会如何处理？
A: 插件会直接使用已存在的同名文件夹，不会创建新的文件夹。

### Q: 插件支持嵌套文件夹结构吗？
A: 是的，插件支持嵌套文件夹结构。如果源笔记位于 `folder1/folder2/source.md`，那么新创建的笔记会被移动到 `folder1/folder2/source/` 文件夹中。

### Q: 我可以禁用自动移动功能吗？
A: 是的，你可以在设置面板中关闭 "自动移动新建链接笔记" 选项，然后使用命令面板手动移动文件。

## 许可证

本插件采用 **GNU Affero General Public License v3.0 (AGPL v3)** 许可证。

